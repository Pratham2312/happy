<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Happy Birthday ðŸŽ‰</title>
<style>
* { box-sizing:border-box; margin:0; padding:0; font-family: 'Comic Sans MS', cursive, sans-serif; }
body { background: linear-gradient(135deg,#FFD1DC,#C1F7FF); display:flex; justify-content:center; align-items:center; min-height:100vh; padding:20px; text-align:center; overflow:hidden; position:relative; }

.container { width:100%; max-width:400px; z-index:1; }

.step { display:none; flex-direction:column; align-items:center; justify-content:center; }
.step.active { display:flex; }

/* Gift box */
.gift-box { width:150px; height:150px; background:#FF6B81; position:relative; border-radius:20px; cursor:pointer; transform:scale(1); transition: transform .3s; box-shadow: 0 10px 20px rgba(0,0,0,0.2);}
.gift-box:hover { transform:scale(1.1); }
.lid { width:150px; height:40px; background:#FF4F7C; position:absolute; top:0; border-top-left-radius:20px; border-top-right-radius:20px; transition: transform .7s ease; transform-origin: top center; }

.step p { margin-top:10px; font-size:18px; color:#ff4f81; font-weight:bold; }

/* Drag-drop board */
.board { width:100%; height:300px; background:#FFF0F5; border:3px dashed #FF6B81; margin-top:20px; border-radius:15px; display:flex; flex-wrap:wrap; justify-content:center; align-content:center; padding:10px; }
.card-item { width:80px; height:80px; margin:5px; border-radius:15px; cursor:pointer; user-select:none; transition: transform .3s; }
.card-item:hover { transform:scale(1.1) rotate(-5deg); }

/* Greeting card pages */
.card-pages { width:100%; background:#FFF; border-radius:20px; padding:20px; box-shadow:0 15px 35px rgba(0,0,0,.2); opacity:0; transform:translateY(50px); transition:all .8s ease; }
.card-pages.show { opacity:1; transform:translateY(0); }
.page { display:none; flex-direction:column; align-items:center; justify-content:center; animation:bounceIn .6s; }
.page.active { display:flex; }
.page img { width:150px; margin:10px 0; border-radius:15px; box-shadow:0 8px 20px rgba(0,0,0,.2); }

button { margin-top:20px; padding:12px 25px; border:none; border-radius:25px; background:#FF6B81; color:white; font-size:16px; font-weight:bold; cursor:pointer; transition:background .3s, transform .2s; }
button:hover { background:#FF4F7C; transform:scale(1.05); }

/* Cake */
.cake { width:150px; height:150px; background:#FFE4E1; border-radius:50%; position:relative; margin-top:20px; box-shadow: 0 8px 20px rgba(0,0,0,.2); }
.candle { width:12px; height:35px; background:#FFF176; position:absolute; top:-25px; left:calc(50% - 6px); border-radius:5px; }
.flame { width:12px; height:12px; background:orange; border-radius:50%; position:absolute; top:-12px; animation:flicker .5s infinite; }
@keyframes flicker {0%,100%{transform:scale(1);opacity:1;}50%{transform:scale(1.3);opacity:.7;}}

/* Confetti */
.confetti { position:absolute; width:12px; height:12px; top:-10px; border-radius:50%; opacity:0; animation:fall 3s forwards; }
@keyframes fall {0%{opacity:1; transform:translateY(0) rotate(0deg);}100%{opacity:0; transform:translateY(500px) rotate(720deg);}}

@keyframes bounceIn {0%{transform:scale(0.5);opacity:0;}60%{transform:scale(1.1);opacity:1;}80%{transform:scale(0.95);}100%{transform:scale(1);}}

/* Hearts */
.heart { position:absolute; width:20px; height:20px; background:red; transform:rotate(-45deg); opacity:0.8; border-radius:5px; animation:floatUp 4s linear infinite; }
.heart::before, .heart::after { content:""; position:absolute; width:20px; height:20px; background:red; border-radius:50%; }
.heart::before { top:-10px; left:0; }
.heart::after { left:10px; top:0; }
@keyframes floatUp {0%{transform:translateY(0) rotate(0deg);}100%{transform:translateY(-600px) rotate(360deg); opacity:0;}}

/* Image slider */
.slider { width:100%; overflow:hidden; margin-top:20px; border-radius:15px; position:relative; }
.slider-track { display:flex; transition:transform 0.5s ease; }
.slider img { width:100%; flex-shrink:0; border-radius:15px; margin-right:10px; }
.slider-btn { position:absolute; top:50%; transform:translateY(-50%); background:rgba(255,111,129,0.8); border:none; color:white; font-size:20px; padding:5px 10px; border-radius:50%; cursor:pointer; }
.slider-btn.left { left:5px; } .slider-btn.right { right:5px; }

</style>
</head>
<body>
<div class="container">

  <!-- Step 1: Gift Box -->
  <div class="step active" id="step1">
    <div class="gift-box" id="giftBox"><div class="lid" id="lid"></div></div>
    <p>Click the gift to open!</p>
  </div>

  <!-- Step 2: Drag-drop cards -->
  <div class="step" id="step2">
    <h2 style="color:#FF6B81;">Drag these cards into the board!</h2>
    <div class="board" id="board"></div>
    <div style="display:flex; justify-content:center; margin-top:10px; flex-wrap:wrap;" id="cardsContainer"></div>
  </div>

  <!-- Step 3: Multi-page greeting card -->
  <div class="step" id="step3">
    <div class="card-pages" id="cardPages">
      <div class="page active">
        <h2 style="color:#FF4F7C;">Happy Birthday! ðŸŽ‰</h2>
        <img src="images/cake.png" alt="Cake">
        <p style="color:#FF6B81;">Wishing you smiles and laughter all day!</p>
        <button id="nextPage">Next</button>
      </div>
      <div class="page">
        <h2 style="color:#FF4F7C;">Youâ€™re amazing! ðŸ’–</h2>
        <img src="images/gift1.png" alt="Gift">
        <p style="color:#FF6B81;">May your year be filled with love and joy!</p>
        <button id="nextPage2">Next</button>
      </div>
      <div class="page">
        <h2 style="color:#FF4F7C;">Surprise! ðŸŽ‚</h2>
        <p style="color:#FF6B81;">Time to blow the candles!</p>
        <button id="showCake">Blow Candles</button>
      </div>
    </div>
  </div>

  <!-- Step 4: Cake & final surprise -->
  <div class="step" id="step4">
    <div class="cake">
      <div class="candle"><div class="flame"></div></div>
      <div class="candle" style="left:calc(50% - 20px)"></div>
      <div class="candle" style="left:calc(50% + 10px)"></div>
    </div>
    <button id="finalBtn">Celebrate ðŸŽ‰</button>
  </div>

  <!-- Step 5: Final celebration -->
  <div class="step" id="step5">
    <h2 style="color:#FF4F7C;">ðŸŽ‰ Happy Birthday! ðŸŽ‰</h2>
    <p style="color:#FF6B81;">Youâ€™re the best! ðŸ¥°</p>

    <!-- Image slider -->
    <div class="slider" id="slider">
      <div class="slider-track" id="sliderTrack"></div>
      <button class="slider-btn left" id="prev">&lt;</button>
      <button class="slider-btn right" id="next">&gt;</button>
    </div>
  </div>

</div>

<script>
const giftBox = document.getElementById('giftBox');
const lid = document.getElementById('lid');
const step1 = document.getElementById('step1');
const step2 = document.getElementById('step2');
giftBox.addEventListener('click', ()=>{
  lid.style.transform='rotateX(-150deg)';
  setTimeout(()=>{
    step1.classList.remove('active');
    step2.classList.add('active');
    initDragDrop();
  },700);
});

// Drag-drop
const board = document.getElementById('board');
const cardsContainer = document.getElementById('cardsContainer');
let cardCount = 0;
// Separate images for drag-drop
const dragImages = [
  'pig.jpeg',
  'pig.jpeg',
  'pig.jpeg'
];
// Separate images for slider
const sliderImages = [
  'photo1.jpg',
  'photo2.jpg',
  'photo3.jpg',
  'photo4.jpg',
  'photo5.jpg'
];

function initDragDrop(){
  dragImages.forEach((img,i)=>{
    const card = document.createElement('img');
    card.src = img;
    card.draggable=true;
    card.classList.add('card-item');
    cardsContainer.appendChild(card);
    card.addEventListener('dragstart', e=>{ e.dataTransfer.setData('text',i); });
  });
  board.addEventListener('dragover', e=> e.preventDefault());
  board.addEventListener('drop', e=>{
    e.preventDefault();
    const idx = e.dataTransfer.getData('text');
    const img = document.createElement('img');
    img.src = dragImages[idx];
    img.classList.add('card-item');
    board.appendChild(img);
    cardCount++;
    if(cardCount>=dragImages.length){
      setTimeout(()=>{
        step2.classList.remove('active');
        step3.classList.add('active');
        document.getElementById('cardPages').classList.add('show');
      },500);
    }
  });
}

// Multi-page greeting card
const pages = document.querySelectorAll('.page');
let currentPage = 0;
document.getElementById('nextPage').addEventListener('click', ()=>{
  pages[currentPage].classList.remove('active');
  currentPage++;
  pages[currentPage].classList.add('active');
});
document.getElementById('nextPage2').addEventListener('click', ()=>{
  pages[currentPage].classList.remove('active');
  currentPage++;
  pages[currentPage].classList.add('active');
});
document.getElementById('showCake').addEventListener('click', ()=>{
  step3.classList.remove('active');
  step4.classList.add('active');
});

// Cake & confetti
const finalBtn = document.getElementById('finalBtn');
const step4 = document.getElementById('step4');
const step5 = document.getElementById('step5');
finalBtn.addEventListener('click', ()=>{
  for(let i=0;i<50;i++){
    const confetti = document.createElement('div');
    confetti.classList.add('confetti');
    confetti.style.background=`hsl(${Math.random()*360},100%,50%)`;
    confetti.style.left=Math.random()*100+'%';
    document.body.appendChild(confetti);
    setTimeout(()=> confetti.remove(),3000);
  }
  setTimeout(()=>{
    step4.classList.remove('active');
    step5.classList.add('active');
    startHearts();
    initSlider();
  },1500);
});

// Floating hearts
function startHearts(){
  setInterval(()=>{
    const heart = document.createElement('div');
    heart.classList.add('heart');
    heart.style.left=Math.random()*90+'%';
    heart.style.animationDuration=3+Math.random()*2+'s';
    document.body.appendChild(heart);
    setTimeout(()=> heart.remove(),5000);
  },300);
}

// Image slider
function initSlider(){
  const sliderTrack = document.getElementById('sliderTrack');
  sliderImages.forEach(img=>{
    const image = document.createElement('img');
    image.src=img;
    sliderTrack.appendChild(image);
  });
  let index=0;
  const prev = document.getElementById('prev');
  const next = document.getElementById('next');
  prev.addEventListener('click', ()=>{ index=Math.max(index-1,0); updateSlider(); });
  next.addEventListener('click', ()=>{ index=Math.min(index+sliderImages.length-1,sliderImages.length-1); updateSlider(); });
  function updateSlider(){
    sliderTrack.style.transform = `translateX(-${index*100}%)`;
  }
}
</script>
</body>
</html>
